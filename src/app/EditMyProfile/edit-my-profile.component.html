
<div class="mt-3">
    <h1 class="mt-2 text-center">{{!IsChangePassword ? 'Edit My Profile' : 'Change Password'}}</h1>
    <hr style="border-top: 3px solid black ;">
  </div>
  
  <div class="me-5 ms-5" *ngIf="!IsChangePassword">
      <form #EditForm="ngForm" (ngSubmit)="EditForm.form.valid">
          <mat-form-field class="col-sm-5 mx-5 mt-2" appearance="outline">
              <mat-label>Fist Name</mat-label>
            <input type="text" required="true" name="fname" matInput placeholder="First Name" [(ngModel)]="EditMyData.fname" />
            <mat-error *ngIf="EditForm.form.touched">Field is required</mat-error>
          </mat-form-field>
          <mat-form-field class="col-sm-5 mx-5 mt-2" appearance="outline">
              <mat-label>Last Name</mat-label>
            <input type="text" required="true" name="lname" matInput placeholder="Last Name" [(ngModel)]="EditMyData.lname" />
            <mat-error *ngIf="EditForm.form.touched">Field is required</mat-error>
          </mat-form-field>
      <mat-form-field class="col-sm-5 mx-5 mt-2" appearance="outline">
        <mat-label>UserName</mat-label>
          <input name="username" type="text" required="true" matInput placeholder="UserName" [(ngModel)]="EditMyData.username" />
          <mat-error *ngIf="EditForm.form">Field is required</mat-error>
        </mat-form-field>
        <mat-form-field class="col-sm-5 mx-5 mt-2" appearance="outline">
            <mat-label>Email</mat-label>
          <input type="email" required="true" name="email" matInput placeholder="Email" [(ngModel)]="EditMyData.email" />
          <mat-error *ngIf="EditForm.form.touched">Field is required</mat-error>
        </mat-form-field>
        <mat-form-field class="col-sm-5 mx-5 mt-2" appearance="outline">
        <mat-label>Phone Number</mat-label>
          <input type="tel" required="true" name="phonenumber" matInput placeholder="Phone Number" [(ngModel)]="EditMyData.phonenumber" />
          <mat-error *ngIf="EditForm.form.touched">Field is required</mat-error>
        </mat-form-field>
        <mat-form-field class="col-sm-5 mx-5 mt-2" appearance="outline">
            <mat-label>Date of Birth</mat-label>
            <input matInput placeholder="Date of Birth" readonly (dateChange)="onDateChange(EditMyData.DOB)" required="true" [matDatepicker]="picker1" name="dateofbirth" [(ngModel)]="EditMyData.DOB">
            <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1 startView="year"></mat-datepicker>
          </mat-form-field>
        <mat-form-field class="col-sm-5 mx-5 mt-2" appearance="outline">
            <mat-label>Age</mat-label>
          <input type="number" required="true" disabled name="age" matInput placeholder="age" [(ngModel)]="EditMyData.Age"/>
          <mat-error *ngIf="EditForm.form.touched">Field is required</mat-error>
        </mat-form-field>
        <mat-form-field class="col-sm-5 mx-5 mt-2" appearance="outline">
          <mat-label>Gender</mat-label>
          <mat-select required="true" id="gender" name="gender" [(ngModel)]="EditMyData.Gender">
            <mat-option></mat-option>
            <mat-option *ngFor="let item of Gender" [value]="item.ObjId">{{item.ObjName}}</mat-option>
          </mat-select>
        </mat-form-field>
        <div class="text-center mt-2" *ngIf="!IsChangePassword">
          <button [disabled]="EditForm.form.invalid" (click)="ChangeTab('IsPasswordTab')" mat-raised-button color="primary" class="col-md-2">Change Password</button>
          <button [disabled]="EditForm.form.invalid" (click)="EditMyPersonalData()" mat-raised-button color="primary" class="col-md-2 mx-4">Save</button>
        </div>
      </form>
    </div>

    <div class="me-5 ms-5" *ngIf="IsChangePassword">
      <form #ChangePasswordForm="ngForm" (ngSubmit)="ChangePasswordForm.form.valid">
          <div class="text-center">
            <mat-form-field class="col-sm-6" appearance="outline">
                <mat-label>Password</mat-label>
              <input type="password" required="true" name="password" matInput placeholder="Password" [(ngModel)]="EditMyData.password" />
              <mat-error *ngIf="ChangePasswordForm.form.touched">Field is required</mat-error>
            </mat-form-field>
          </div>
          <div class="text-center">
            <mat-form-field class="col-sm-6" appearance="outline">
                <mat-label>Confirm Password</mat-label>
              <input type="password" required="true" name="cnfpassword" matInput placeholder="Confirm Password" [(ngModel)]="EditMyData.cnfPassword" />
              <mat-error *ngIf="ValidMessage">{{ValidMessage ? ValidMessage : 'Field is required'}}</mat-error>
            </mat-form-field>
          </div>
          <div class="text-center mt-2" *ngIf="IsChangePassword">
            <button (click)="ChangeTab('IsEditTab')" mat-raised-button color="primary" class="col-md-2">Back</button>
            <button [disabled]="ChangePasswordForm.form.invalid" (click)="ChangePassword()" mat-raised-button color="primary" class="col-md-2 mx-2">Save</button>
          </div>
          </form>
    </div>
    
  